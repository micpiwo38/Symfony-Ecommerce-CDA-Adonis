{% extends 'base.html.twig' %}

{% block title %}Connexion
{% endblock %}

{% block body %}
<div class="container shadow mt-5 rounded p-3 w-25 bg-dark">
	<div class="text-center">
		<h1 class="text-warning">Connexion</h1>
	</div>
	<div class="separator"></div>
	<div class="window-pane">
		<form method="post">
			{% if error %}
			<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
			{% endif %}

			{% if app.user %}
			<div class="mb-3">
				Vous êtes connectez en tant que :
				{{ app.user.userIdentifier }},
				<a class="btn" href="{{ logout_path() }}">Deconnexion</a>
			</div>
			{% endif %}

			<label for="username">Email</label>
			<input type="email" value="{{ last_username }}" name="_username" id="username" class="form-control mt-3"
				autocomplete="email" required autofocus>
            <br>
			<label for="password">Mot de passe</label>
			<input type="password" name="_password" id="password" class="form-control mt-3" autocomplete="current-password"
				required>
			<input type="hidden" name="_csrf_token" data-controller="csrf-protection"
				value="{{ csrf_token('authenticate') }}">
			<button class="btn btn-info mt-3" type="submit">
				Connexion
			</button>
            <br><br>
			<p>Vous êtes nouveau ?</p>
			<a href="{{path('app_register')}}">S'inscrire</a>
		</form>
	</div>
</div>
{% endblock %}
